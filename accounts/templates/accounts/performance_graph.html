{% load static %}

<!DOCTYPE html> <html lang="en"> <head> 
    <meta charset="UTF-8"> <title>üìä Performance Graph</title> 
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
    <style> 
body { 
    font-family: 'Segoe UI', sans-serif; 
    background: #f0f2f5; 
    padding: 40px;

}
.container {
  max-width: 900px;
  margin: auto;
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.05);
}

h2 {
  text-align: center;
  margin-bottom: 30px;
  color: #2c3e50;
}

canvas {
  max-width: 100%;
}

.back-link {
  display: block;
  text-align: center;
  margin-top: 30px;
  text-decoration: none;
  color: #0984e3;
}
</style>
 </head> 
 <body> 
    <div class="container"> 
        <h2>üìà Your Quiz Performance</h2> 
        <canvas id="performanceChart"></canvas> 
        <a href="{% url 'user_dashboard' %}" class="back-link">‚Üê Back to Dashboard</a>
     </div> 
     <script>
      const labels = {{ performance_data|safe }}.map(data => data.subject); 
      const scores = {{ performance_data|safe }}.map(data => data.avg_score); 
      const data = { labels: labels, datasets: [{ label: 'Average Score', data: scores, fill: false, borderColor: '#00b894', backgroundColor: '#00cec9', tension: 0.3 }] }; 
      new Chart(document.getElementById('performanceChart'), { type: 'line', data: data, options: { scales: { y: { beginAtZero: true, suggestedMax: 100 } } } }); 
      </script> </body> </html>